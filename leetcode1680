#include <iostream>
using namespace std;

class Solution {
public:
    int concatenatedBinary(int n) {
        long long mod = 1000000007;
        long long ans = 0;
        int bits = 0;

        for (int i = 1; i <= n; i++) {
            // Check if i is power of 2
            if ((i & (i - 1)) == 0) {
                bits++;   // Increase bit length
            }

            // Left shift previous answer and add current number
            ans = ((ans << bits) % mod + i) % mod;
        }

        return ans;
    }
};

int main() {
    Solution obj;

    int n;
    cout << "Enter n: ";
    cin >> n;

    int result = obj.concatenatedBinary(n);

    cout << "Concatenated Binary Result: " << result << endl;

    return 0;
}
